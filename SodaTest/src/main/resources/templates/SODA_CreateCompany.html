<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>

<head>
	<meta charset="UTF-8">
	<title>ì†Œë‹¤(SODA)-íšŒì›ê°€ì…</title>
	<link rel="stylesheet" th:href="@{/css/reset.css}">
	<link rel="stylesheet" th:href="@{/css/HomeNav.css}">
	<link rel="stylesheet" th:href="@{/css/Join.css}">
</head>
<header id="HeaderNav">
	<div id="MainNav">
		<a class="logo" href="/SODA/Home"><img th:src="@{/images/ì†Œë‹¤ë¡œê³ _ë°°ê²½O.png}" alt="logo"></a>
		<nav class="navBar">
			<ul class="barItems">
				<li><a href="/SODA/Func" class="bars">ê¸°ëŠ¥</a></li>
				<li><a href="/SODA/Price" class="bars">ìš”ê¸ˆì œ</a></li>
				<li><a href="/SODA/TeamCorpo" class="bars">íŒ€ í˜‘ì—…</a></li>
			</ul>
			<div class="userBtnWrap">
				<a href="/SODA/loginPage" id="btnLogin">ë¡œê·¸ì¸</a>
				<a href="/SODA/JoinSelect" id="btnJoin">íšŒì›ê°€ì…</a>
			</div>
		</nav>
	</div>
</header>

<body>
	<div class="joinHome">
		<div class="createCompany" style="display:block;">
			<div class="creComTitle">ìƒˆ íšŒì‚¬ ë§Œë“¤ê¸° ğŸ¢ </div>
			<div class="creComIntro">íšŒì‚¬ì •ë³´ ì…ë ¥ í›„, ì†Œë‹¤ ê´€ë¦¬ìë¡œ ì‹œì‘í•´ë³´ì„¸ìš”</div>
			<div class="creComWrap">
				<form action="/SODA/CreateCompany" method="post" id="CreateCompanyForm">
					<label>
						<input type="hidden" name="userId" th:value="${memberEmail.Email}">
					</label>
					<label>
						<span class="comWrapTitle">íšŒì‚¬ ì´ë¦„</span>
						<div class="comNameCheckDiv">
							<input type="text" id="comName" name="comName" placeholder="íšŒì‚¬ ì´ë¦„">
							<button id="comNameCheck" type="button">ì¤‘ë³µ í™•ì¸</button>
						</div>
						<p class="errorText" id="errorCompany">íšŒì‚¬ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
					</label>
					<label class="comURLWrap">
						<span class="comWrapTitle">íšŒì‚¬ URL</span>
						<div class="URLWrap">
							<p>https://&nbsp;</p>
							<input type="text" id="comURL" name="comURL" placeholder="íšŒì‚¬ URL">
							<p>&nbsp;.soda.team</p>
						</div>
						<p class="errorText" id="errorURL">íšŒì‚¬ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
					</label>
					<label>
						<span class="comWrapTitle">íšŒì‚¬ ì—…ì¢…</span>
						<div class="comSelect">
							<select>
								<option>íšŒì‚¬ ì—…ì¢…ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</option>
								<option>ë§ˆì¼€íŒ…</option>
								<option>IT ìš´ì˜</option>
								<option>ì œí’ˆê´€ë¦¬</option>
								<option>HR</option>
								<option>ì˜ì—…</option>
								<option>ê³ ê°ì§€ì›</option>
								<option>CEO</option>
								<option>ì—”ì§€ë‹ˆì–´</option>
								<option>ë””ìì´ë„ˆ</option>
								<option>íšŒê³„/ë²•ë¥ </option>
								<option>ì¬ë¬´</option>
								<option>ê¸°íƒ€</option>
							</select>
						</div>
					</label>
					<a id="creComPrev" href="/SODA/CreateMember">ì´ì „</a>
					<button id="creComNext" type="submit">ë‹¤ìŒ</button>
				</form>
			</div>
		</div>
	</div>
</body>
<script th:src="@{/js/Join.js}"></script>
<script th:inline="javascript">
		function searchCom(e){
			e.preventDefault();
			var comName = document.getElementById("comName").value;
			$.ajax({
				url: '/SODA/SearchCom',
				method: 'POST',
				data: {comName: comName},
				success: function (response) {
					if (response.name != null) {
						$('#errorCompany').css('display', 'block');
						$('#errorCompany').text('ì´ë¯¸ ì¡´ì¬í•˜ëŠ” íšŒì‚¬ëª…ì…ë‹ˆë‹¤.');
						$('#errorCompany').css('color', '#ff6b6b');
						$('#comName').css('border-color', '#ff6b6b');
					} else if(response.name == null){
						$('#errorCompany').css('display', 'block');
						$('#errorCompany').css('color', '#50b5bf');
						$('#errorCompany').text('ìƒì„± ê°€ëŠ¥í•œ íšŒì‚¬ëª…ì…ë‹ˆë‹¤.');
					}
				},
				error: function (xhr, status, error) {
					console.log(status + ": " + status)
				}
			});
		}
		$('#comNameCheck').on('click', searchCom);
</script>
</html>