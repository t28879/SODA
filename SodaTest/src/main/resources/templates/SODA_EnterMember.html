<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
<head>
<meta charset="UTF-8">
<title>ì†Œë‹¤(SODA)-íšŒì›ê°€ì…</title>
<link rel="stylesheet" th:href="@{/css/reset.css}">
<link rel="stylesheet" th:href="@{/css/HomeNav.css}">
<link rel="stylesheet" th:href="@{/css/Join.css}">
</head>
<header id="HeaderNav">
		<div id="MainNav">
			<a class="logo" href="/SODA/Home"><img th:src="@{/images/ì†Œë‹¤ë¡œê³ _ë°°ê²½O.png}" alt="logo"></a>
			<nav class="navBar">
				<ul class="barItems">
					<li><a href = "/SODA/Func" class="bars">ê¸°ëŠ¥</a></li>	
					<li><a href = "/SODA/Price" class="bars">ìš”ê¸ˆì œ</a></li>
					<li><a href = "/SODA/TeamCorpo" class="bars">íŒ€ í˜‘ì—…</a></li>
				</ul>
				<div class="userBtnWrap">
					<a href = "/SODA/loginPage" id="btnLogin">ë¡œê·¸ì¸</a>
					<a href = "/SODA/JoinSelect" id="btnJoin">íšŒì›ê°€ì…</a>
				</div>
			</nav>
		</div>		
</header>
<body>
	<div class="joinHome">
		<div class="joinSignUp">
			<div class="joinComTitle">ê¸°ì¡´ íšŒì‚¬ ì°¸ì—¬ ğŸ¢</div>
			<div class="joinComIntro">ì´ë¯¸ íšŒì‚¬ì—ì„œ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ íšŒì‚¬ ì´ë¦„ì„ ì…ë ¥í•˜ì—¬ í•¨ê»˜í•˜ì„¸ìš”.</div>
			<div class="joinComWrap">
				<form method="post" id="joinComForm" action="/SODA/Enter">
					<label class="comURLWrap">
						<span class="comWrapTitle">íšŒì‚¬ ì´ë¦„</span>
						<div class="URLWrap">
							<input type="text" id="joinComName" name="joinComName" placeholder="íšŒì‚¬ ì´ë¦„">
							<button id="checkCompany" type="button">íšŒì‚¬ í™•ì¸</button>
						</div>
						<p class="findComText" id="findComText">ê°€ì… ê°€ëŠ¥í•œ íšŒì‚¬ ì´ë¦„ì…ë‹ˆë‹¤.</p>
						<p class="URLHelp">íšŒì‚¬ ì´ë¦„ì€ ê´€ë¦¬ìë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
						<p class="errorText" id="errorJoin">íšŒì‚¬ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
						<button id="joinComNext" type="submit">ì°¸ì—¬í•˜ê¸°</button>
					</label>
				</form>
			</div>
		</div>
	</div>
</body>
<script th:src="@{/js/JoinMember.js}"></script>
<script th:inline="javascript">
		function searchCom(e){
			e.preventDefault();
			var joinComName = document.getElementById("joinComName").value;
			$.ajax({
				url: '/SODA/EnterCom',
				method: 'POST',
				data: {joinComName: joinComName},
				success: function (response) {
					if (response == joinComName) {
						$('#findComText').css('display', 'block');
						$('#findComText').text('ê°€ì… ê°€ëŠ¥í•œ íšŒì‚¬ ì´ë¦„ì…ë‹ˆë‹¤.');
						$('#findComText').css('color', '#50b5bf');
					} else if(response != joinComName){
						$('#errorJoin').css('display', 'block');
						$('#errorJoin').text('ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íšŒì‚¬ ì´ë¦„ì…ë‹ˆë‹¤.');
						$('#errorJoin').css('color', '#ff6b6b');
						$('#joinComName').css('border-color', '#ff6b6b');
					} else {
						console.log(response);
						console.log(joinComName);
						$('#errorJoin').css('display', 'block');
						$('#errorJoin').text('íšŒì‚¬ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
						$('#errorJoin').css('color', '#ff6b6b');
						$('#joinComName').css('border-color', '#ff6b6b');
					}
				},
				error: function (xhr, status, error) {
					console.log(status + ": " + status)
				}
			});
		}
		$('#checkCompany').on('click', searchCom);
</script>
</html>