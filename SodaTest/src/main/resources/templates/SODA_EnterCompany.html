<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>

<head>
	<meta charset="UTF-8">
	<title>ì†Œë‹¤(SODA)-íšŒì›ê°€ì…</title>
	<link rel="stylesheet" th:href="@{/css/reset.css}">
	<link rel="stylesheet" th:href="@{/css/HomeNav.css}">
	<link rel="stylesheet" th:href="@{/css/Join.css}">
</head>
<header id="HeaderNav">
	<div id="MainNav">
		<a class="logo" href="/SODA/Home"><img th:src="@{/images/ì†Œë‹¤ë¡œê³ _ë°°ê²½O.png}" alt="logo"></a>
		<nav class="navBar">
			<ul class="barItems">
				<li><a href="/SODA/Func" class="bars">ê¸°ëŠ¥</a></li>
				<li><a href="/SODA/Price" class="bars">ìš”ê¸ˆì œ</a></li>
				<li><a href="/SODA/TeamCorpo" class="bars">íŒ€ í˜‘ì—…</a></li>
			</ul>
			<div class="userBtnWrap">
				<a href="/SODA/loginPage" id="btnLogin">ë¡œê·¸ì¸</a>
				<a href="/SODA/JoinSelect" id="btnJoin">íšŒì›ê°€ì…</a>
			</div>
		</nav>
	</div>
</header>

<body>
	<div class="joinHome">
		<div class="joinComSignUp">
			<div class="joinSignUpTitle">íšŒì‚¬ ê³„ì •ìœ¼ë¡œ ì‹œì‘í•˜ê¸° ğŸ±â€ğŸ</div>
			<div class="joinSignUpIntro">íšŒì‚¬ì— ì°¸ì—¬í•˜ì—¬ ì—…ë¬´ëŠ¥ë¥ ì„ ì˜¬ë ¤ë´ìš”</div>
			<div class="joinSignUpWrap">
				<form method="post" id="joinSignUpForm" action="/SODA/EnterCompany">
					<label>
						<input type="hidden" name="companyId" th:value="${companyId.companyId}">
					</label>
					<label>
						<span class="newWrapTitle">ì´ë©”ì¼</span>
						<th:block th:if="${session.email == null}">
								<div class="signUpEmailCheck">
									<input type="text" id="joinSignUpEmail" name="joinSignUpEmail" placeholder="example@gmail.com">
									<button id="emailCheck" type="button">ì¤‘ë³µ í™•ì¸</button>
								</div>
							</th:block>
							<th:block th:if="${session.email != null}">
								<div class="signUpEmailCheck">
									<input type="text" id="joinSignUpEmail" name="joinSignUpEmail" placeholder="example@gmail.com"
									th:value="${session.email}">
									<button id="emailCheck" type="button">ì¤‘ë³µ í™•ì¸</button>
								</div>
							</th:block>
						<!--<div class="signUpEmailCheck">
								<input type="text" id="joinSignUpEmail" name="joinSignUpEmail" placeholder="example@gmail.com">
								<button id="emailCheck" type="button">ì´ë©”ì¼ í™•ì¸</button>
						</div>-->
						<p class="errorText" id="jErrorEmail">ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
					</label>
					<label>
						<span class="newWrapTitle">ì´ë¦„</span>
						<input type="text" id="joinSignUpName" name="joinSignUpName" placeholder="ì´ë¦„">
						<p class="errorText" id="jErrorName">ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
					</label>
					<label>
						<span class="newWrapTitle">ë¹„ë°€ë²ˆí˜¸</span>
						<input type="password" id="joinSignUpPw" name="joinSignUpPw" placeholder="ë¹„ë°€ë²ˆí˜¸">
						<p class="errorText" id="jErrorPw">ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
					</label>
					<label>
						<span class="newWrapTitle">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</span>
						<input type="password" id="joinSignUpRePw" placeholder="ë¹„ë°€ë²ˆí˜¸ ì¬ì…ë ¥">
						<p class="errorText" id="jErrorRePw"></p>
					</label>
					<label>
						<span class="newWrapTitle">ì§ë¬´</span>
						<div class="newSignUpSelect">
							<select>
								<option>ì§ë¬´ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.</option>
								<option>ë§ˆì¼€íŒ…</option>
								<option>IT ìš´ì˜</option>
								<option>ì œí’ˆê´€ë¦¬</option>
								<option>HR</option>
								<option>ì˜ì—…</option>
								<option>ê³ ê°ì§€ì›</option>
								<option>CEO</option>
								<option>ì—”ì§€ë‹ˆì–´</option>
								<option>ë””ìì´ë„ˆ</option>
								<option>íšŒê³„/ë²•ë¥ </option>
								<option>ì¬ë¬´</option>
								<option>ê¸°íƒ€</option>
							</select>
						</div>
					</label>
					<div class="joinSignUpCheck">
						<div class="joinCheckWrap">
							<input type="checkbox" id="j_checkEssential">
							<span class="checkEsRequire">(í•„ìˆ˜) &nbsp;</span>
							<span>ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€, ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ì„ í™•ì¸í•˜ì˜€ê³ , ì´ì— ë™ì˜í•©ë‹ˆë‹¤</span>
							<p class="errorText" id="j_checkError">ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€, ê°œì¸ì •ë³´ì·¨ê¸ˆë°©ì¹¨ í™•ì¸ ë° ë™ì˜ ë¶€íƒë“œë¦½ë‹ˆë‹¤.</p>
						</div>
						<div class="joinCheckWrap">
							<input type="checkbox" id="j_checkOptional">
							<span class="checkOpRequire">(ì„ íƒ) &nbsp;</span>
							<span>í˜œíƒ ì•Œë¦¼ ìˆ˜ì‹ ì— ë™ì˜í•©ë‹ˆë‹¤.</span>
						</div>
					</div>
					<button id="joinSignUpNext" type="submit">ë‹¤ìŒ</button>
				</form>
			</div>
		</div>
	</div>
</body>
<script th:src="@{/js/JoinMember.js}"></script>
<script th:inline="javascript">
		function searchEmail(e){
			e.preventDefault();
			var joinSignUpEmail = document.getElementById("joinSignUpEmail").value;
			$.ajax({
				url: '/SODA/joinSearchEmail',
				method: 'POST',
				data: {joinSignUpEmail: joinSignUpEmail},
				success: function (response) {
					if (response == joinSignUpEmail) {
						$('#jErrorEmail').css('display', 'block');
						$('#jErrorEmail').text('ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì´ë©”ì¼ì…ë‹ˆë‹¤.');
						$('#jErrorEmail').css('color', '#ff6b6b');
						$('#joinSignUpEmail').css('border-color', '#ff6b6b');
					} else {
						$('#jErrorEmail').css('display', 'block');
						$('#jErrorEmail').css('color', '#50b5bf');
						$('#jErrorEmail').text('íšŒì›ê°€ì… ê°€ëŠ¥í•œ ì´ë©”ì¼ì…ë‹ˆë‹¤.');
					} 
				},
				error: function (xhr, status, error) {
					console.log(status + ": " + status)
				}
			});
		}
		$('#emailCheck').on('click', searchEmail);
</script>
</html>